<!DOCTYPE html>
<html class="hot-theme-light wa-theme-default wa-palette-hotosm">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HOTOSM UI - Login Component Demo</title>
    
    <!-- Import HOT UI styles -->
    <script type="module" src="https://unpkg.com/@hotosm/ui@0.3.4-b2/dist/hotosm-ui.js"></script>
    <!-- <link rel="stylesheet" href="https://unpkg.com/@hotosm/ui@0.3.1-b1/dist/style.css"> -->
    <link rel="stylesheet" href="https://unpkg.com/@hotosm/ui@0.3.4-b2/dist/themes/hot.css">    
    <style>
        body { 
            font-family: Arial, sans-serif; 
            padding: 2rem; 
            background: #f5f5f5;
            margin: 0;
        }
        
        .demo-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        .demo-header {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            color: white;
            padding: 2rem;
            text-align: center;
        }
        
        .demo-header h1 {
            margin: 0;
            font-size: 2.5rem;
            font-weight: 300;
        }
        
        .demo-header p {
            margin: 0.5rem 0 0 0;
            opacity: 0.9;
            font-size: 1.1rem;
        }
        
        .demo-content {
            padding: 2rem;
        }
        
        .demo-section {
            margin: 2rem 0;
            padding: 1.5rem;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            background: #fafafa;
        }
        
        .demo-section h2 {
            margin: 0 0 1rem 0;
            color: #374151;
            font-size: 1.5rem;
        }
        
        .demo-section p {
            margin: 0 0 1rem 0;
            color: #6b7280;
            line-height: 1.6;
        }
        
        .component-demo {
            background: white;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1rem 0;
        }
        
        .code-block {
            background: #1f2937;
            color: #f9fafb;
            padding: 1rem;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
            margin: 1rem 0;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin: 1.5rem 0;
        }
        
        .feature-card {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 1.5rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        .feature-card h3 {
            margin: 0 0 0.5rem 0;
            color: #374151;
            font-size: 1.2rem;
        }
        
        .feature-card p {
            margin: 0;
            color: #6b7280;
            font-size: 0.9rem;
            line-height: 1.5;
        }
        
        .status-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-right: 0.5rem;
        }
        
        .status-active {
            background: #10b981;
        }
        
        .status-inactive {
            background: #6b7280;
        }
        
        .login-info {
            background: #f0f9ff;
            border: 1px solid #0ea5e9;
            border-radius: 6px;
            padding: 1rem;
            margin: 1rem 0;
        }
        
        .login-info h4 {
            margin: 0 0 0.5rem 0;
            color: #0369a1;
        }
        
        .login-info p {
            margin: 0;
            color: #0c4a6e;
            font-size: 0.9rem;
        }
        
        .button-group {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            margin: 1rem 0;
        }
        
        @media (max-width: 768px) {
            .demo-content {
                padding: 1rem;
            }
            
            .feature-grid {
                grid-template-columns: 1fr;
            }
            
            .button-group {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <div class="demo-header">
            <h1>üîê HOTOSM UI Login Component</h1>
            <p>Authentication flows for OSM and Google integration</p>
        </div>
        
        <div class="demo-content">
            <div class="demo-section">
                <h2>Overview</h2>
                <p>
                    This demo showcases the HOTOSM UI login component, which provides authentication flows 
                    for OpenStreetMap (OSM) and Google accounts. The component is built using WebAwesome 
                    primitives and follows HOT design guidelines.
                </p>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <h3>üåê OSM Authentication</h3>
                        <p>Seamless integration with OpenStreetMap accounts using OAuth 2.0</p>
                    </div>
                    <div class="feature-card">
                        <h3>üîë Google Authentication</h3>
                        <p>Google OAuth integration for users with Google accounts</p>
                    </div>
                    <div class="feature-card">
                        <h3>üé® HOT Theming</h3>
                        <p>Consistent branding and styling across all authentication flows</p>
                    </div>
                    <div class="feature-card">
                        <h3>üì± Responsive Design</h3>
                        <p>Mobile-first approach with adaptive layouts</p>
                    </div>
                </div>
            </div>
            
            <div class="demo-section">
                <h2>Live Demo</h2>
                <p>
                    Click the login button below to see the authentication modal in action. 
                    The component will open a modal with OSM and Google login options.
                </p>
                
                <div class="component-demo">
                    <h3>Header with Login Component</h3>
                    <hot-header 
                        id="demo-header"
                        title="Login Demo App" 
                        size="medium" 
                        showLogin="true"
                        drawer="true"
                        borderBottom="true">
                    </hot-header>
                    
                    <div class="login-info">
                        <h4>Component Status</h4>
                        <p>
                            <span class="status-indicator status-active"></span>
                            Login component loaded and ready
                        </p>
                        <p>
                            <span class="status-indicator status-active"></span>
                            Hanko authentication service connected
                        </p>
                    </div>
                </div>
                
                <div class="button-group">
                    <button onclick="openLoginModal()" style="background: #ef4444; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer; font-size: 1rem;">
                        üîê Open Login Modal
                    </button>
                    <button onclick="checkAuthStatus()" style="background: #6b7280; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer; font-size: 1rem;">
                        üìä Check Auth Status
                    </button>
                    <button onclick="resetDemo()" style="background: #10b981; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer; font-size: 1rem;">
                        üîÑ Reset Demo
                    </button>
                </div>
            </div>
            
            <div class="demo-section">
                <h2>Implementation</h2>
                <p>
                    The login component is implemented as part of the header component and can be 
                    used independently. Here's how to integrate it into your application:
                </p>
                
                <div class="code-block">
&lt;!-- HTML Structure --&gt;
&lt;hot-header 
    title="Your App" 
    size="medium" 
    showLogin="true"
    drawer="true"&gt;
&lt;/hot-header&gt;

&lt;!-- JavaScript Configuration --&gt;
&lt;script type="module"&gt;
    import '@hotosm/ui/dist/style.css';
    import '@hotosm/ui/dist/components/header/header.js';
    
    const header = document.querySelector('hot-header');
    
    // Listen for login events
    header.addEventListener('login', () => {
        console.log('Login button clicked');
    });
&lt;/script&gt;
                </div>
            </div>
            
            <div class="demo-section">
                <h2>Features</h2>
                <ul style="color: #374151; line-height: 1.8;">
                    <li><strong>Authentication Providers:</strong> OSM OAuth 2.0, Google OAuth</li>
                    <li><strong>Modal Interface:</strong> Clean, accessible login modal</li>
                    <li><strong>Session Management:</strong> Automatic session validation</li>
                    <li><strong>Responsive Design:</strong> Works on all device sizes</li>
                    <li><strong>HOT Branding:</strong> Consistent with HOT design system</li>
                    <li><strong>WebAwesome Integration:</strong> Built with modern web components</li>
                </ul>
            </div>
            
            <div class="demo-section">
                <h2>Configuration Options</h2>
                <div class="code-block">
// Header component properties
{
    title: "App Name",           // Application title
    size: "small|medium|large",  // Header size variant
    showLogin: true,             // Enable login functionality
    drawer: true,                // Show navigation drawer
    borderBottom: true,          // Show bottom border
    logo: "logo-url",            // Custom logo URL
    tabs: [],                    // Navigation tabs
    drawerLinks: []              // Drawer navigation links
}

// Authentication configuration
{
    hankoUrl: "https://dev.login.hotosm.org",
    sessionCheckInterval: 30000,  // 30 seconds
    enablePasskeys: true,         // Enable passkey support
    storageKey: "hanko"          // Local storage key
}
                </div>
            </div>
            
            <div class="demo-section">
                <h2>Event Handling</h2>
                <p>
                    The login component dispatches events that you can listen to for 
                    custom authentication logic:
                </p>
                
                <div class="code-block">
// Listen for login events
header.addEventListener('login', (event) => {
    console.log('Login initiated');
    // Handle login flow
});

// Listen for authentication state changes
header.addEventListener('auth-change', (event) => {
    console.log('Auth state changed:', event.detail);
    // Update UI based on auth state
});

// Listen for logout events
header.addEventListener('logout', (event) => {
    console.log('User logged out');
    // Handle logout cleanup
});
                </div>
            </div>
            
            <div class="demo-section">
                <h2>Styling & Theming</h2>
                <p>
                    The component automatically applies HOT theming and can be customized 
                    using CSS variables:
                </p>
                
                <div class="code-block">
/* Custom theme overrides */
:root {
    --hot-color-primary-500: #ef4444;
    --hot-color-neutral-950: #0f172a;
    --hot-font-sans: Inter, system-ui, sans-serif;
}

/* Component-specific overrides */
hot-header {
    --hot-color-red-500: #dc2626;
    --hot-spacing-4x-large: 4rem;
}
                </div>
            </div>
        </div>
    </div>

    <!-- Import HOT UI components -->
    <script type="module" src="../dist/components/header/header.js"></script>
    
    <script type="module">
        // Demo functionality
        let header;
        
        // Wait for components to load
        document.addEventListener('DOMContentLoaded', () => {
            header = document.getElementById('demo-header');
            
            if (header) {
                // Configure header with demo data
                header.tabs = [
                    { 
                        label: 'Home', 
                        clickEvent: () => console.log('Navigate to Home') 
                    },
                    { 
                        label: 'Projects', 
                        clickEvent: () => console.log('Navigate to Projects') 
                    },
                    { 
                        label: 'About', 
                        clickEvent: () => console.log('Navigate to About') 
                    }
                ];
                
                header.activeTabIndex = 0;
                
                header.drawerLinks = [
                    { label: "Documentation", href: "https://ui.hotosm.org" },
                    { label: "GitHub", href: "https://github.com/hotosm/ui" },
                    { label: "Support", href: "https://github.com/hotosm/ui/issues" }
                ];
                
                // Listen for login events
                header.addEventListener('login', () => {
                    console.log('üîê Login button clicked - opening modal');
                });
                
                // Listen for tab changes
                header.addEventListener('tab-change', (e) => {
                    console.log('üìë Tab changed:', e.detail);
                });
                
                console.log('‚úÖ Header component configured and ready');
            }
        });
        
        // Demo functions
        window.openLoginModal = function() {
            if (header) {
                header.loginModalOpen = true;
                console.log('üîê Login modal opened programmatically');
            }
        };
        
        window.checkAuthStatus = function() {
            console.log('üìä Checking authentication status...');
            console.log('Header component:', header);
            console.log('Login modal state:', header?.loginModalOpen);
            
            // Check if Hanko is available
            if (window.hanko) {
                console.log('‚úÖ Hanko authentication service available');
            } else {
                console.log('‚ùå Hanko authentication service not available');
            }
        };
        
        window.resetDemo = function() {
            if (header) {
                header.loginModalOpen = false;
                header.activeTabIndex = 0;
                console.log('üîÑ Demo reset to initial state');
            }
        };
        
        // Global error handling
        window.addEventListener('error', (event) => {
            console.error('üö® Global error:', event.error);
        });
        
        // Log when everything is ready
        window.addEventListener('load', () => {
            console.log('üöÄ Login component demo fully loaded');
        });
    </script>
</body>
</html>
